<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Walker Dashboard — Pups & Parks™</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/styles.css">
</head>
<body>
<!-- Header -->
<header>
  <div class="hdr-inner">
    <a class="logo" href="index.html">
      <img src="./assets/img/logo.svg" alt="Pups & Parks logo">
      <span>Pups & Parks™</span>
    </a>
    <div class="hdr-actions">
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="pricing.html">Pricing</a>
        <a href="feed.html">Community</a>
        <a href="profile.html">Profile</a>
        <a href="walker-dashboard.html" style="background:var(--glass)">Walker Dashboard</a>
      </nav>
      <button class="theme-toggle" id="themeToggle">Toggle theme</button>
    </div>
  </div>
</header>

<main class="container grid">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="profile-mini">
      <img id="avatarPreview" class="avatar" src="./assets/img/default-avatar.png" alt="Avatar">
      <div>
        <div style="font-weight:800" id="namePreview">Your Name</div>
        <div class="muted" id="rolePreview">Walker • City</div>
        <div id="verifyBadge" style="margin-top:.35rem; display:none" class="verify">✔ Verified Walker</div>
      </div>
    </div>

    <div class="stats">
      <div class="stat"><div class="muted">Earnings (30d)</div><h3 id="earnings30">£0</h3></div>
      <div class="stat"><div class="muted">Bookings</div><h3 id="bookingsCount">0</h3></div>
      <div class="stat"><div class="muted">Reviews</div><h3 id="reviewsCount">0</h3></div>
    </div>

    <div class="cap"><span>Dashboard</span><div class="bar"></div></div>
    <div class="tabs">
      <button class="tab-pill active" data-tab="profile"><span class="ico">👤</span><span>Profile</span></button>
      <button class="tab-pill" data-tab="services"><span class="ico">🦮</span><span>Services</span></button>
      <button class="tab-pill" data-tab="schedule"><span class="ico">🗓️</span><span>Schedule</span></button>
      <button class="tab-pill" data-tab="earnings"><span class="ico">💷</span><span>Earnings</span></button>
      <button class="tab-pill" data-tab="media"><span class="ico">📸</span><span>Media</span></button>
      <button class="tab-pill" data-tab="connections"><span class="ico">🤝</span><span>Connections</span></button>
      <button class="tab-pill" data-tab="settings"><span class="ico">⚙️</span><span>Settings</span></button>
    </div>
  </aside>

  <!-- Content -->
  <section class="content">
    <!-- Trial banner -->
    <div class="banner" id="trialBanner" hidden>
      <div><strong>Free trial</strong> — <span id="trialCountdown">7 days left</span></div>
      <button class="btn btn-secondary" id="upgradeBtn">Upgrade</button>
    </div>

    <!-- Subscription -->
    <div class="card">
      <h2>Subscription</h2>
      <p>Subscribe to <strong>Walker Pro</strong> to unlock instant payouts, zero commission, and premium dashboard features.</p>
      <div style="display:flex;gap:1rem;margin-top:.5rem">
        <button class="btn btn-primary" id="btnSubscribeMonthly">Subscribe £25/month</button>
        <button class="btn btn-secondary" id="btnSubscribeYearly">Subscribe £250/year</button>
      </div>
      <p class="muted" style="margin-top:.5rem">Cancel anytime. Powered by Stripe.</p>
    </div>

    <!-- Profile -->
    <div class="card" id="tab-profile">
      <h2>Profile</h2>
      <!-- ... existing profile form ... -->
    </div>

    <!-- Services -->
    <div class="card" id="tab-services" hidden>
      <h2>Services</h2>
      <!-- ... existing services form ... -->
    </div>

    <!-- Schedule -->
    <div class="card" id="tab-schedule" hidden>
      <h2>Schedule & availability</h2>
      <!-- ... existing schedule form ... -->
    </div>

    <!-- Earnings -->
    <div class="card" id="tab-earnings" hidden>
      <h2>Earnings</h2>
      <!-- ... existing earnings form ... -->
    </div>

    <!-- Media -->
    <div class="card" id="tab-media" hidden>
      <h2>Media</h2>
      <!-- ... existing media form ... -->
    </div>

    <!-- Connections -->
    <div class="card" id="tab-connections" hidden>
      <h2>Connections</h2>
      <!-- ... existing connections form ... -->
    </div>

    <!-- Settings -->
    <div class="card" id="tab-settings" hidden>
      <h2>Settings</h2>
      <!-- ... existing settings form ... -->
    </div>

    <div class="footer">© 2025 Pups & Parks™ — Walker dashboard v2</div>
  </section>
</main>

<script src="js/dashboard.js"></script>
<script>
async function subscribe(plan) {
  const res = await fetch("/api/checkout", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ plan }),
  });
  const data = await res.json();
  if (data.url) window.location.href = data.url;
}

document.getElementById("btnSubscribeMonthly")
  .addEventListener("click", () => subscribe("monthly"));

document.getElementById("btnSubscribeYearly")
  .addEventListener("click", () => subscribe("yearly"));
</script>
</body>
</html>
